<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cahaya Az Zahra Enterprise - Parcel Management</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Page -->
    <div id="login-page" class="container">
        <h1>Cahaya Az Zahra Enterprise</h1>
        
        <div class="input-group">
            <input type="tel" id="phone" 
                   placeholder="Phone Number"
                   pattern="^(673\d{7,}|60\d{9,})$" 
                   required>
        </div>
        
        <div class="input-group">
            <input type="password" id="password" 
                   placeholder="Password" 
                   required>
        </div>
        
        <button id="loginButton" class="primary-btn">Login</button>
        
        <div class="auth-links">
            <button data-action="show-registration" class="text-button">Create Account</button>
            <button data-action="show-forgot-password" class="text-button">Forgot Password?</button>
        </div>
    </div>

    <!-- Registration Page -->
    <div id="registration-page" class="container" style="display: none;">
        <h1>New Registration</h1>
        
        <div class="input-group">
            <input type="tel" id="regPhone" 
                   placeholder="Phone (673/60 format)" 
                   required>
            <div class="error-message" id="phoneError"></div>
        </div>

        <div class="input-group">
            <input type="password" id="regPassword" 
                   placeholder="Create Password"
                   required>
            <div class="password-rules">6+ characters, 1 uppercase, 1 number</div>
        </div>

        <div class="input-group">
            <input type="email" id="regEmail" 
                   placeholder="Email Address" 
                   required>
        </div>

        <div class="button-group">
            <button id="registerButton" class="primary-btn">Register</button>
            <button data-action="show-login" class="secondary-btn">
                Back to Login
            </button>
        </div>
    </div>

    <!-- Forgot Password Page -->
    <div id="forgot-password-page" class="container" style="display: none;">
        <h1>Password Recovery</h1>
        
        <div class="input-group">
            <input type="tel" id="recoveryPhone" 
                   placeholder="Registered Phone Number" 
                   required>
        </div>
        
        <div class="input-group">
            <input type="email" id="recoveryEmail" 
                   placeholder="Registered Email Address" 
                   required>
        </div>
        
        <div class="button-group">
            <button id="passwordRecoveryButton" class="primary-btn">Send Reset Instructions</button>
            <button data-action="show-login" class="secondary-btn">
                Back to Login
            </button>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard-page" class="container" style="display: none;">
        <div class="dashboard-header">
            <h1>Welcome, <span id="user-phone"></span></h1>
            <p class="user-email" id="user-email"></p>
        </div>
        
        <div class="dashboard-grid">
            <div class="dashboard-card" data-action="show-my-info">
                <div class="card-icon">üë§</div>
                <h2>My Account</h2>
                <p>Update personal information and security settings</p>
            </div>
            
            <div class="dashboard-card" data-action="show-parcel-declaration">
                <div class="card-icon">üì¶</div>
                <h2>Declare Parcel</h2>
                <p>Submit new parcel information for customs clearance</p>
            </div>
            
            <div class="dashboard-card" data-action="show-track-parcel">
                <div class="card-icon">üì°</div>
                <h2>Track Parcel</h2>
                <p>Monitor shipment status and view history</p>
            </div>
        </div>
        
        <div class="dashboard-footer">
            <button id="logoutButton" class="secondary-btn">Logout</button>
        </div>
    </div>

    <!-- My Info Page -->
    <div id="my-info-page" class="container" style="display: none;">
        <h1>Account Information</h1>
        
        <div class="user-info">
            <div class="info-item">
                <label>Registered Phone:</label>
                <input type="tel" id="infoPhone" readonly>
            </div>
            
            <div class="info-item">
                <label>Registered Email:</label>
                <p id="currentEmail" class="email-display"></p>
            </div>
        </div>

        <div class="security-section">
            <h2>Change Password</h2>
            <div class="input-group">
                <input type="password" id="currentPassword" 
                       placeholder="Current Password" 
                       required>
            </div>
            <div class="input-group">
                <input type="password" id="newPassword" 
                       placeholder="New Password" 
                       required>
            </div>
            <div class="input-group">
                <input type="password" id="repeatNewPassword" 
                       placeholder="Confirm New Password" 
                       required>
            </div>
            <button id="changePasswordButton" class="primary-btn">Update Password</button>
        </div>

        <div class="security-section">
            <h2>Change Email Address</h2>
            <div class="input-group">
                <input type="password" id="verifyPassword" 
                       placeholder="Verify Current Password" 
                       required>
            </div>
            <div class="input-group">
                <input type="email" id="newEmail" 
                       placeholder="New Email Address" 
                       required>
            </div>
            <div class="input-group">
                <input type="email" id="repeatNewEmail" 
                       placeholder="Confirm New Email" 
                       required>
            </div>
            <button id="changeEmailButton" class="primary-btn">Update Email</button>
        </div>

        <div class="button-group">
            <button data-action="show-dashboard" class="secondary-btn">Back to Dashboard</button>
        </div>
    </div>

    <!-- Parcel Declaration Page -->
    <div id="parcel-declaration-page" class="container" style="display: none;">
        <h1>Parcel Declaration</h1>
        
        <div class="parcel-form">
            <div class="input-group">
                <label>Tracking Number</label>
                <input type="text" id="trackingNumber" required>
            </div>

            <div class="input-group">
                <label>Item Description</label>
                <textarea id="itemDescription" rows="3" required></textarea>
            </div>

            <div class="form-row">
                <div class="input-group">
                    <label>Quantity</label>
                    <input type="number" id="quantity" min="1" required>
                </div>
                
                <div class="input-group">
                    <label>Total Value (RM)</label>
                    <input type="number" id="price" step="0.01" required>
                </div>
            </div>

            <div class="input-group">
                <label>Item Category</label>
                <select id="itemCategory" required>
                    <option value="">Select Category</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Documents">Documents</option>
                    <option value="Clothing">Clothing</option>
                    <option value="Cosmetics">Cosmetics</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="input-group">
                <label>Upload Invoices</label>
                <input type="file" id="invoiceFiles" multiple accept=".pdf,.jpg,.jpeg,.png">
            </div>

            <div class="button-group">
                <button id="submitParcelButton" class="primary-btn">Submit Declaration</button>
                <button data-action="show-dashboard" class="secondary-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Track Parcel Page -->
    <div id="track-parcel-page" class="container" style="display: none;">
        <h1>Parcel Tracking</h1>
        
        <div class="tracking-container">
            <div class="tracking-list">
                <div class="search-box">
                    <input type="text" id="trackingSearch" 
                           placeholder="Search tracking numbers...">
                </div>
                <div id="trackingList" class="tracking-items"></div>
            </div>
            
            <div class="parcel-details">
                <h3>Parcel Details</h3>
                <div id="parcelDetails">
                    <div class="detail-item">
                        <span class="detail-label">Status:</span>
                        <span id="detailStatus" class="detail-value"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Last Update:</span>
                        <span id="detailLastUpdate" class="detail-value"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Location:</span>
                        <span id="detailLocation" class="detail-value"></span>
                    </div>
                </div>
                <div id="noParcelsMessage" class="empty-state">
                    No parcels found in your account
                </div>
            </div>
        </div>

        <div class="button-group">
            <button data-action="show-dashboard" class="secondary-btn">Back to Dashboard</button>
        </div>
    </div>

    <!-- Welcome Modal -->
    <div id="welcomeModal" class="modal">
        <div class="modal-content">
            <h2>MAKLUMAN PENTING</h2>
            <div class="modal-scroll">
                <h2>MAKLUMAN PENTING. SILA BACA</h2>
      <p><strong>Tolong submit tracking details biskita seawalnya jika biskita ada mengunakan shipping address alamat kami di limbang. Tidak perlu menunggu kiriman dari pihak kami lagi.</strong></p>
      <p>Sila check sea shipping, jika parcel sudah sampai Malaysia, perubahan tracking akan berlaku, sila update/submit tracking terkini yang telah sampai di Limbang.</p>
      <p><strong>Please do not key in any Tracking details that is not yours or your not sure about it please do ask admin to make sure about it.</strong></p>
      <p><strong>Parcel Items not key-in will be left at storage. Parcel staying at storage can have high chance of lost. If it is lost, it is not our responsibility anymore.</strong></p>
      <ul>
        <li>Pastikan Details adalah betul.</li>
        <li>Buat details nama yg mudah difahami sahaja, tidak perlu panjang.</li>
        <li>Nombor telefon penerima di Brunei, pihak kami akan hubungi.</li>
        <li>Jika parcel dalam satu tracking mempunyai banyak keterangan item, sila senaraikan "breakdown" satu persatu termasuk harga & kuantiti.</li>
        <li>Harga termasuk postage.</li>
        <li>Item yang memerlukan permit(under control), sila sediakan semua document yg diperlukan.</li>
      </ul>
      <p>Untuk Cosmetics ,Supplements, Foods or Drinks.</p>
      <ul>
        <li>Screenshot invoice adalah dimestikan.</li>
        <li>Pastikan butiran nama penerima dan summary shipping dapat dilihat dengan jelas.</li>
        <li>Gambar IC depan & belakang atau kirimkan nombor IC dan alamat kepada admin.</li>
        <li>Untuk bungkusan cosmetic, pastikan barangan bukan untuk dijual, hanya personal use kegunaan sendiri sahaja, limit harga tidak boleh melebihi $200, berat maksimum 2KG kebawah *kecuali biskita ada DPS permit dibawah syarikat sendiri.</li>
      </ul>
      <p>Untuk AITI,</p>
      <ul>
        <li>Kesemua barangan yang mempunyai Bluetooth atau Wireless RC car yg mempunyai "remote control", Handphone & laptop hendak lah memohon permit di AITI dahulu, kuantiti tidak boleh melebihi 5 unit.</li>
        <li>Invoice</li>
        <li>Gambar IC depan belakang.</li>
        <li>Copy link dari Shopee atau Lazada.</li>
      </ul>
      <p>Untuk buku,</p>
      <ul>
        <li>Sediakan invoice.</li>
        <li>Gambar IC.</li>
      </ul>
      <p><strong>‚óè SILA SEMAK SEBELUM SUBMIT.</strong></p>
      <p><strong>‚óè PASTIKAN SEMUA KETERANGAN ADALAH BETUL.</strong></p>
      <p>Note: In completing this declaration, units and items for making an untrue or incorrect declaration will be taken risk by own consignee.</p>
      <p>Undeclared parcel will be hold in Limbang for anyone that did not provide their detail on time. Kindly please cooperate, Thank you.üòä</p>
      <button data-action="closeModalButton">Close</button>
            </div>
            <button data-action="close-modal" class="primary-btn">I Understand</button>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loading" class="loading-indicator">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Global Error Message -->
    <div id="global-error" class="error-message" style="display: none;"></div>

    <script src="app.js"></script>
</body>
</html>
