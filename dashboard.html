<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <title>Dashboard - Cahaya Az Zahra Enterprise</title>
  <link rel="stylesheet" href="styles/main.css">
  <style>
    /* Dashboard-specific styles */
    .dashboard-page {
      max-width: 600px;
      margin: 20px auto;
    }

    .thumbnail {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 10px;
      margin: 15px 0;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .thumbnail:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .thumbnail h2 {
      color: #c5a047;
      margin-bottom: 10px;
    }

    .thumbnail p {
      color: #ffffff;
      font-size: 0.9em;
    }

    /* Welcome Modal Styles */
    .welcome-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      z-index: 9999;
      animation: fadeIn 0.3s ease-out;
    }

    .welcome-content {
      background-color: #1a1a1a;
      margin: 15% auto;
      padding: 25px;
      border: 1px solid var(--gold);
      width: 80%;
      max-width: 400px;
      border-radius: 8px;
      position: relative;
      text-align: center;
    }

    .welcome-modal h2 {
      color: var(--gold);
      margin-bottom: 15px;
      font-size: 1.8em;
    }

    .modal-footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 15px;
      border-top: 1px solid rgba(197, 160, 71, 0.3);
      margin-top: 20px;
    }

    .close-modal {
      color: var(--gold);
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px 25px;
      border-radius: 25px;
      border: 1px solid var(--gold);
      transition: all 0.3s ease;
      margin: 0 auto;
      display: block;
      width: max-content;
    }

    .close-modal:hover {
      background: var(--gold);
      color: var(--dark-bg);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @media (max-width: 480px) {
      .dashboard-page {
        padding: 15px;
      }
      
      .thumbnail {
        padding: 15px;
      }
      
      .thumbnail h2 {
        font-size: 1.2em;
      }

      .welcome-content {
        margin: 30% auto;
        padding: 20px;
      }

      .welcome-modal h2 {
        font-size: 1.4em;
      }
    }
  </style>
</head>
<body>
  <div class="container dashboard-page">
    <h1>Dashboard</h1>
    
    <div class="thumbnail" onclick="showMyInfo()">
      <h2>My Info</h2>
      <p>View and update your personal information.</p>
    </div>
    
    <div class="thumbnail" onclick="showParcelDeclaration()">
      <h2>Submit Parcel Declaration</h2>
      <p>Declare your parcel for customs clearance.</p>
    </div>
    
    <div class="thumbnail" onclick="showTrackParcel()">
      <h2>Track My Parcel</h2>
      <p>Track the status of your parcel.</p>
    </div>
    
    <button style="margin-top: 20px; background: #444" onclick="handleLogout()">Logout</button>
  </div>

  <!-- Welcome Modal -->
  <div id="welcomeModal" class="welcome-modal">
    <div class="welcome-content">
      <h2>MAKLUMAN PENTING. SILA BACA</h2>
      <p><strong>Tolong submit tracking details biskita seawalnya jika biskita ada mengunakan shipping address alamat kami di limbang. Tidak perlu menunggu kiriman dari pihak kami lagi.</strong></p>
      <p>Sila check sea shipping, jika parcel sudah sampai Malaysia, perubahan tracking akan berlaku, sila update/submit tracking terkini yang telah sampai di Limbang.</p>
      <p><strong>Please do not key in any Tracking details that is not yours or your not sure about it please do ask admin to make sure about it.</strong></p>
      <p><strong>Parcel Items not key-in will be left at storage. Parcel staying at storage can have high chance of lost. If it is lost, it is not our responsibility anymore.</strong></p>
      <ul>
        <li>Pastikan Details adalah betul.</li>
        <li>Buat details nama yg mudah difahami sahaja, tidak perlu panjang.</li>
        <li>Nombor telefon penerima di Brunei, pihak kami akan hubungi.</li>
        <li>Jika parcel dalam satu tracking mempunyai banyak keterangan item, sila senaraikan "breakdown" satu persatu termasuk harga & kuantiti.</li>
        <li>Harga termasuk postage.</li>
        <li>Item yang memerlukan permit(under control), sila sediakan semua document yg diperlukan.</li>
      </ul>
      <p>Untuk Cosmetics ,Supplements, Foods or Drinks.</p>
      <ul>
        <li>Screenshot invoice adalah dimestikan.</li>
        <li>Pastikan butiran nama penerima dan summary shipping dapat dilihat dengan jelas.</li>
        <li>Gambar IC depan & belakang atau kirimkan nombor IC dan alamat kepada admin.</li>
        <li>Untuk bungkusan cosmetic, pastikan barangan bukan untuk dijual, hanya personal use kegunaan sendiri sahaja, limit harga tidak boleh melebihi $200, berat maksimum 2KG kebawah *kecuali biskita ada DPS permit dibawah syarikat sendiri.</li>
      </ul>
      <p>Untuk AITI,</p>
      <ul>
        <li>Kesemua barangan yang mempunyai Bluetooth atau Wireless RC car yg mempunyai "remote control", Handphone & laptop hendak lah memohon permit di AITI dahulu, kuantiti tidak boleh melebihi 5 unit.</li>
        <li>Invoice</li>
        <li>Gambar IC depan belakang.</li>
        <li>Copy link dari Shopee atau Lazada.</li>
      </ul>
      <p>Untuk buku,</p>
      <ul>
        <li>Sediakan invoice.</li>
        <li>Gambar IC.</li>
      </ul>
      <p><strong>‚óè SILA SEMAK SEBELUM SUBMIT.</strong></p>
      <p><strong>‚óè PASTIKAN SEMUA KETERANGAN ADALAH BETUL.</strong></p>
      <p>Note: In completing this declaration, units and items for making an untrue or incorrect declaration will be taken risk by own consignee.</p>
      <p>Undeclared parcel will be hold in Limbang for anyone that did not provide their detail on time. Kindly please cooperate, Thank you.üòä</p>
      
      <div class="modal-footer">
        <span class="close-modal">Close Welcome Message</span>
      </div>
    </div>
  </div>

  <script src="scripts/app.js"></script>
  <script>
    (function initDashboard() {
      const userData = JSON.parse(sessionStorage.getItem('userData'));
      
      if (!userData) {
        window.location.href = 'login.html';
        return;
      }

      if (userData.tempPassword) {
        window.location.href = 'password-reset.html';
      }
      
      // Display welcome modal once per session
      const modal = document.getElementById('welcomeModal');
      const closeBtn = document.querySelector('.close-modal');
      
      if (!sessionStorage.getItem('welcomeShown')) {
        modal.style.display = 'block';
        sessionStorage.setItem('welcomeShown', 'true');
      }

      // Close modal handlers
      closeBtn.onclick = () => modal.style.display = 'none';
      window.onclick = (event) => {
        if (event.target === modal) modal.style.display = 'none';
      }

      // Navigation functions
      function showMyInfo() {
        window.location.href = 'my-info.html';
      }

      function showParcelDeclaration() {
        window.location.href = 'parcel-declaration.html';
      }

      function showTrackParcel() {
        window.location.href = 'track-parcel.html';
      }

      function handleLogout() {
        sessionStorage.removeItem('userData');
        sessionStorage.removeItem('welcomeShown');
        window.location.href = 'login.html';
      }

      // Expose functions globally
      window.showMyInfo = showMyInfo;
      window.showParcelDeclaration = showParcelDeclaration;
      window.showTrackParcel = showTrackParcel;
      window.handleLogout = handleLogout;
    })();
  </script>
</body>
</html>
